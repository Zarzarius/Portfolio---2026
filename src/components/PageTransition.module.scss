@use '../styles/theme' as *;

// Slightly longer, smoother feel for page transitions
$page-transition-duration: 0.55s;
$page-transition-ease: cubic-bezier(0.32, 0.72, 0, 1);

.pageTransition {
  width: 100%;
  min-height: 100%;
  position: relative;
  view-transition-name: main-content;
}

// Fallback when View Transitions API is not supported (e.g. Firefox, older Safari)
.pageTransition.entering {
  animation: pageEnter $page-transition-duration $page-transition-ease forwards;
}

// View Transitions API: smooth slide + fade (Chrome, Edge, Safari 18+)
::view-transition-old(main-content) {
  animation: pageOut $page-transition-duration $page-transition-ease forwards;
}

::view-transition-new(main-content) {
  animation: pageEnter $page-transition-duration $page-transition-ease forwards;
}

@media (prefers-reduced-motion: reduce) {
  .pageTransition.entering {
    animation: none;
  }

  ::view-transition-old(main-content),
  ::view-transition-new(main-content) {
    animation: none;
  }
}

@keyframes pageOut {
  from {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  to {
    opacity: 0;
    transform: translateY(-12px) scale(0.98);
  }
}

@keyframes pageEnter {
  from {
    opacity: 0;
    transform: translateY(12px) scale(0.98);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}
